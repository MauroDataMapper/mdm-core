import uk.ac.ox.softeng.maurodatamapper.core.provider.exporter.ExportModel

model {
    ExportModel exportModel
}

json {
    Map<String, Object> exportMap = exportModel.modelExportMap
    call(exportModel.exportModelType,
         exportMap.export instanceof List ? g.render(template: exportModel.modelExportTemplatePath, collection: exportMap.export, var: 'export')
                                          : g.render(template: exportModel.modelExportTemplatePath, model: exportMap))
    exportMetadata g.render(exportModel.exportMetadata)
}
